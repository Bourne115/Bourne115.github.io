(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{589:function(t,i,a){"use strict";a.r(i);var l=a(14),s=Object(l.a)({},(function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-什么是configmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是configmap"}},[t._v("#")]),t._v(" 1.什么是ConfigMap")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("作用：")]),t._v(" "),a("ul",[a("li",[t._v("存储不加密的数据到ectd，让Pod以变量或者volume挂载容器中")])])]),t._v(" "),a("li",[a("p",[t._v("场景")]),t._v(" "),a("ul",[a("li",[t._v("配置文件\n"),a("ul",[a("li",[t._v("例如 redis 的配置文件")])])])])])]),t._v(" "),a("h2",{attrs:{id:"_2-如何创建configmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何创建configmap"}},[t._v("#")]),t._v(" 2.如何创建ConfigMap")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("kubectl create configMap redis-config -- from-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("redis.properties\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("blockquote",[a("p",[t._v("查看 kubectl get cm[configMap]")])]),t._v(" "),a("h2",{attrs:{id:"_3-以volume的形式挂载到pod中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-以volume的形式挂载到pod中"}},[t._v("#")]),t._v(" 3.以Volume的形式挂载到Pod中")]),t._v(" "),a("ol",[a("li",[t._v("touch 一个redis.properties 的配置文件")])]),t._v(" "),a("p",[t._v("redis.host=127.0.0.1")]),t._v(" "),a("p",[t._v("redis.name=qile")]),t._v(" "),a("p",[t._v("redis.hostname=123456")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.rishiqing.com/task/v1/folder/file/url?signature=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidmlldyIsImlhdCI6MTY1MDE4MjM2NSwiZmlsZUlkIjo2Mjc3MTEyLCJ0aW1lc3RhbXAiOjE2NTAxODIzNjU2OTB9.3V1uaNLBiFsB2sgZX7FPojbFWSj_jcQC_sx2g8_ypIQ",alt:"图示"}})]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("通过上面的yaml文件的配置来创建一个pod")])]),t._v(" "),a("p",[t._v("kubectl apply -f cmPod.yaml")]),t._v(" "),a("p",[t._v("kubectl get cmPod")]),t._v(" "),a("p",[t._v("kubectl logs cmPod")]),t._v(" "),a("h2",{attrs:{id:"_4-以变量形式挂载到pod中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-以变量形式挂载到pod中"}},[t._v("#")]),t._v(" 4.以变量形式挂载到pod中")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("创建yaml文件，声明变量信息 configmap 来进行创建")])]),t._v(" "),a("li",[a("p",[t._v("以变量的形式挂载这些")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.rishiqing.com/task/v1/folder/file/url?signature=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidmlldyIsImlhdCI6MTY1MDE4MjkxMCwiZmlsZUlkIjo2Mjc3MTUzLCJ0aW1lc3RhbXAiOjE2NTAxODI5MTA5NTF9.KkyO81nGknSG-mBTA2as8GLwIewOUoFSPGmNdFUJLe4",alt:"图示"}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[t._v("kubectl apply -f mycongfig.yaml")])]),t._v(" "),a("li",[a("p",[t._v("然后再到pod的yaml文件中将这些变量挂载一下")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.rishiqing.com/task/v1/folder/file/url?signature=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidmlldyIsImlhdCI6MTY1MDE4MzA3NywiZmlsZUlkIjo2Mjc3MTczLCJ0aW1lc3RhbXAiOjE2NTAxODMwNzcwNjB9.MtVRx0516wdFC5jMTMirk6T4iCT_jBUa3r0aSQWD8G8",alt:"图示"}})]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[t._v("kubectl apply -f mypod.yaml")])])])}),[],!1,null,null,null);i.default=s.exports}}]);